{"pageProps":{"meta":{"title":"Prepare Windows for Android development without installing Android Studio","description":"Configure Android environment for Flutter and React Native development using command line tools.","date":"2021-08-16"},"source":{"compiledSource":"var m=Object.defineProperty,u=Object.defineProperties;var c=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;var d=(a,t,o)=>t in a?m(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,e=(a,t)=>{for(var o in t||(t={}))i.call(t,o)&&d(a,o,t[o]);if(n)for(var o of n(t))l.call(t,o)&&d(a,o,t[o]);return a},s=(a,t)=>u(a,c(t));var p=(a,t)=>{var o={};for(var r in a)i.call(a,r)&&t.indexOf(r)<0&&(o[r]=a[r]);if(a!=null&&n)for(var r of n(a))t.indexOf(r)<0&&l.call(a,r)&&(o[r]=a[r]);return o};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(o){var r=o,{components:a}=r,t=p(r,[\"components\"]);return mdx(MDXLayout,s(e(e({},layoutProps),t),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,`Do you really need to install Android Studio to develop Android apps? No.\nHowever, most tutorials and docs say Android Studio is required. The truth\nis... Android Studio is advised to be installed only because it comes with\nall necessary tools to run and build android apps, it is essentially not\nneeded as an editor.`),mdx(\"p\",null,`This article aims at setting up a minimal Android environment sufficient to\ndevelop and build Android apps. For example, Flutter and React Native apps. For a\nfully-featured, rich Android development experience, it is better to\ninstall Android Studio.`),mdx(\"p\",null,`If you do not want to install Android Studio and yet develop Flutter and\nReact Native apps - this article is just for you. You are going to discover\nhow to manually:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"install Android SDK with build tools\"),mdx(\"li\",{parentName:\"ul\"},\"use Android Studio Emulator to create and run Android Virtual Devices (AVDs)\")),mdx(\"h3\",e({},{id:\"virtualization\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#virtualization\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"heading-link\",title:\"Click to anchor this title\"}),\"#\")),\"Virtualization\"),mdx(\"p\",null,`Virtualization is a feature that allows to create virtual hardware. We will\nneed to enable virtualization for Android Studio Emulator.`),mdx(\"p\",null,`There are two ways to use virtualization: either through Hyper-V or HAXM.\nThe setup depends on your PC. `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.microsoft.com/en-us/xamarin/android/get-started/installation/android-emulator/hardware-acceleration\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),`Read this small\nguide`),`\nto see if virtualization is supported and how to enable it.`),mdx(\"p\",null,`It is possible that your CPU is pretty old and does not support\nvirtualization. Not that good, but do not worry. One option is to use very\nslow ARM-based Android Device images while keep using Android Studio\nEmulator. Another, more hardened solution is to just use third-party\nAndroid emulator such as `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.genymotion.com/\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Genymotion\"),`. This\ntopic is touched one more time in `,mdx(\"a\",e({parentName:\"p\"},{href:\"#configuring-and-using-android-studio-emulator\"}),\"the Android Studio Emulator section\"),\".\"),mdx(\"h3\",e({},{id:\"java-development-kit-jdk\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#java-development-kit-jdk\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"heading-link\",title:\"Click to anchor this title\"}),\"#\")),\"Java Development Kit (JDK)\"),mdx(\"p\",null,`Android SDK requires JDK to be installed. First, check if JDK is already\ninstalled. Open any terminal (CMD, Powershell, git-bash) and execute:`),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`javac --version\n`)),mdx(\"p\",null,`If above command prints installed version, then JDK is already installed.\nFeel free to skip this section.`),mdx(\"p\",null,\"Installation:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.oracle.com/java/technologies/javase-downloads.html\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),`Download latest JDK\nversion`),`.\nSelect JDK download > `,mdx(\"mark\",null,\"Windows x64 Compressed Archive\"))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Unpack downloaded .zip somewhere, e.g. \",mdx(\"mark\",null,`C:\\\\Program Files\n(x86)\\\\Java\\\\jdk-15.0.2`),\" (version might be different for you)\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Add new system environment variable named \",mdx(\"mark\",null,\"JAVA_HOME\"),`,\nvalue must be the path to folder where you unpacked JDK in step 2. `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/1.5.1/oread/creating-and-modifying-environment-variables-on-windows.html\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),`How\nto edit system environment\nvariables`))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"To existing \",mdx(\"mark\",null,\"PATH\"),\" system variable add:\"),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",e({parentName:\"pre\"},{}),`%JAVA_HOME%\\\\bin\n`)))),mdx(\"p\",null,\"To verify installation, execute \",mdx(\"mark\",null,\"javac --version\"),\" in terminal.\"),mdx(\"h3\",e({},{id:\"android-sdk\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#android-sdk\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"heading-link\",title:\"Click to anchor this title\"}),\"#\")),\"Android SDK\"),mdx(\"p\",null,\"Android SDK is what allows to build and run Android apps. We gonna use \",mdx(\"mark\",null,\"sdkmanager\"),\" CLI to download required SDK packages.\"),mdx(\"p\",null,\"Installation:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"https://developer.android.com/studio#downloads\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Download sdkmanager\"),`.\nScroll to `,mdx(\"mark\",null,\"Command line tools only\"),` section, get .zip for\nWindows.`)),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Unpack downloaded .zip to \",mdx(\"mark\",null,\"C:\\\\Android\\\\cmdline-tools\\\\latest\"),`\nso that `,mdx(\"mark\",null,\"bin\"),\" folder is inside \",mdx(\"mark\",null,\"latest\"))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Add new system environment variable named \",mdx(\"mark\",null,\"ANDROID_HOME\"),`\nwith value `,mdx(\"mark\",null,\"C:\\\\Android\"),\". \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/1.5.1/oread/creating-and-modifying-environment-variables-on-windows.html\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),`How to edit system environment\nvariables`))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"To existing \",mdx(\"mark\",null,\"PATH\"),\" system variable add:\"),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",e({parentName:\"pre\"},{}),`%ANDROID_HOME%\\\\cmdline-tools\\\\latest\\\\bin\n%ANDROID_HOME%\\\\emulator\n`))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Open any terminal and execute:\"),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",e({parentName:\"pre\"},{}),`sdkmanager.bat --version\n`)),mdx(\"p\",{parentName:\"li\"},\"If you did everything correctly, it should print the installed version.\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"To see the list of all available packages that we can download:\"),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",e({parentName:\"pre\"},{}),`sdkmanager.bat --list\n`))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`We gonna install SDK packages of version 30. That version targets\nAndroid 11. From the terminal:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",e({parentName:\"pre\"},{}),`sdkmanager.bat \"platform-tools\"\nsdkmanager.bat \"build-tools;30.0.3\"\nsdkmanager.bat \"platforms;android-30\"\n`)),mdx(\"p\",{parentName:\"li\"},`In case you need newer platform version, use the command from step 6 to\ncheck what packages are available for download. Installation pattern is\nthe same as in above code snippet.`))),mdx(\"p\",null,\"After installation, in folder \",mdx(\"mark\",null,\"C:\\\\Android\"),` you should see a\nbunch of new folders and files.`),mdx(\"p\",null,`Now all required tools are installed, including Android Studio Emulator.\nThe only thing left is to download and configure an Android Virtual Device\n(AVD) itself.`),mdx(\"h3\",e({},{id:\"configuring-and-using-android-studio-emulator\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#configuring-and-using-android-studio-emulator\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"heading-link\",title:\"Click to anchor this title\"}),\"#\")),\"Configuring and using Android Studio Emulator\"),mdx(\"p\",null,`Setting up an Android Virtual Device (AVD) is very similar to setting up a\nVirtual Machine (VM) using something like Virtual Box: get an image, then\ncreate virtual environment from the image.`),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},`NOTE: if virtualization is not enabled, your only option is to install\nARM-based images which do not need hardware virtualization. When choosing\nan image, make sure it contains arm`,\"*\",`, NOT x86/x64. ARM-based images are\nNOT recommended since they are slow and too often just broken (do not\nrun). A better solution would be to use some other Android Emulator\nsuch as `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.genymotion.com/\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Genymotion\"))),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"List all system images available for download:\"),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",e({parentName:\"pre\"},{}),`// findstr works in CMD and Powershell\n// for unix-type shells use grep\nsdkmanager.bat --list | findstr system-images\n`))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`Download the image. We are going to use x86-based Android 11 image (API\nv30):`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",e({parentName:\"pre\"},{}),`sdkmanager.bat --install \"system-images;android-30;google_apis;x86\"\n\n// if virtualization is not enabled, use arm-type image\nsdkmanager.bat --install \"system-images;android-30;google_apis;arm64-v8a\"\n`))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Create an AVD from the downloaded image using \",mdx(\"mark\",null,\"avdmanager\"),\":\"),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",e({parentName:\"pre\"},{}),`echo no | avdmanager.bat --verbose create avd --force --name \"a11\" --package \"system-images;android-30;google_apis;x86\" --tag \"google_apis\" --abi \"x86\"\n\n// for arm-type image\necho no | avdmanager.bat --verbose create avd --force --name \"a11_arm\" --package \"system-images;android-30;google_apis;arm64-v8a\" --tag \"google_apis\" --abi \"arm64-v8a\"\n`)),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"mark\",null,\"--name\"),\" for AVD alias. Pick something meaningful and short\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"mark\",null,\"--package\"),\" must be image name from step 2\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"mark\",null,\"--tag\"),\" image tag to use, taken from image name (google_apis)\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"mark\",null,\"--abi\"),\" CPU architecture to use, taken from image name (x86 and arm64-v8a)\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"mark\",null,\"echo no\"),\" to skip post-prompt\")),mdx(\"br\",null)),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"List all installed AVDs:\"),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",e({parentName:\"pre\"},{}),`emulator -list-avds\n`))),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Launch AVD:\"),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",e({parentName:\"pre\"},{}),`emulator @a11\n`)),mdx(\"p\",{parentName:\"li\"},\"Checkout all startup options \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://developer.android.com/studio/run/emulator-commandline#startup-options\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),`over\nhere`),`.\nTo stop emulator, just quit by pressing \"X\" or stop execution with \"CTRL + C\" in the terminal.`))),mdx(\"p\",null,\"Congrats \\u{1F973} You are now ready to go! All installed AVDs are located in User folder at \",mdx(\"mark\",null,\"~/.android/avd\"),`. If you need to remove installed AVD, just delete\nfolder with its name.`),mdx(\"p\",null,\"I recommend to use \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://gist.github.com/mrk-han/66ac1a724456cadf1c93f4218c6060ae\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),`this\ngist`),` as\na cheatsheet for managing AVDs. That gist also gives a really awesome tip\nto make AVD more friendly. Open `,mdx(\"mark\",null,\"~/.android/avd/an10.avd/config.ini\"),` and\nadd those lines:`),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`skin.name=1080x1920   # proper screen size for emulator\nhw.lcd.density=480\nhw.keyboard=yes       # enables keys from PC to be used in the emulator\n`)),mdx(\"p\",null,\"Cheers! Go install React Native and start developing \\u{1F4AA}\"),mdx(\"img\",{src:\"/me/articles/android-power.png\",alt:\"android\",width:\"90\",height:\"160\"}))}MDXContent.isMDXComponent=!0;\n","scope":{"title":"Prepare Windows for Android development without installing Android Studio","description":"Configure Android environment for Flutter and React Native development using command line tools.","date":"2021-08-16"}}},"__N_SSG":true}